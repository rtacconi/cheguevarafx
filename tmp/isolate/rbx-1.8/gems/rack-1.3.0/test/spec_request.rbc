!RBIX
17831730954501249321
x
M
1
n
n
x
10
__script__
i
51
5
7
0
64
47
49
1
1
15
5
7
2
64
47
49
1
1
15
5
7
3
64
47
49
1
1
15
5
7
4
64
47
49
1
1
15
5
45
5
6
43
7
56
8
47
50
9
1
15
2
11
I
3
I
0
I
0
I
0
n
p
10
s
8
stringio
x
7
require
s
3
cgi
s
12
rack/request
s
9
rack/mock
x
4
Rack
n
x
7
Request
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
554
5
7
0
64
56
1
47
50
2
1
15
5
7
3
64
56
4
47
50
2
1
15
5
7
5
64
56
6
47
50
2
1
15
5
7
7
64
56
8
47
50
2
1
15
5
7
9
64
56
10
47
50
2
1
15
5
7
11
64
56
12
47
50
2
1
15
5
7
13
64
56
14
47
50
2
1
15
5
7
15
64
56
16
47
50
2
1
15
5
7
17
64
56
18
47
50
2
1
15
5
7
19
64
56
20
47
50
2
1
15
5
7
21
64
56
22
47
50
2
1
15
5
7
23
64
56
24
47
50
2
1
15
5
7
25
64
56
26
47
50
2
1
15
5
7
27
64
56
28
47
50
2
1
15
5
7
29
64
56
30
47
50
2
1
15
5
7
31
64
56
32
47
50
2
1
15
5
7
33
64
56
34
47
50
2
1
15
5
7
35
64
56
36
47
50
2
1
15
5
7
37
64
56
38
47
50
2
1
15
5
7
39
64
56
40
47
50
2
1
15
5
7
41
64
56
42
47
50
2
1
15
5
7
43
64
56
44
47
50
2
1
15
5
7
45
64
56
46
47
50
2
1
15
5
7
47
64
56
48
47
50
2
1
15
5
7
49
64
56
50
47
50
2
1
15
5
7
51
64
56
52
47
50
2
1
15
5
7
53
64
56
54
47
50
2
1
15
5
7
55
64
56
56
47
50
2
1
15
5
7
57
64
56
58
47
50
2
1
15
5
7
59
64
56
60
47
50
2
1
15
5
7
61
64
56
62
47
50
2
1
15
5
7
63
64
56
64
47
50
2
1
15
5
7
65
64
56
66
47
50
2
1
15
5
7
67
64
56
68
47
50
2
1
15
5
7
69
64
56
70
47
50
2
1
15
5
7
71
64
56
72
47
50
2
1
15
5
7
73
64
56
74
47
50
2
1
15
5
7
75
64
56
76
47
50
2
1
15
5
7
77
64
56
78
47
50
2
1
15
5
7
79
64
56
80
47
50
2
1
15
5
7
81
64
56
82
47
50
2
1
15
5
7
83
64
56
84
47
50
2
1
15
5
7
85
64
56
86
47
50
2
1
15
5
7
87
64
56
88
47
50
2
1
15
99
7
89
45
90
91
43
92
65
49
93
3
13
99
12
7
94
12
7
95
12
65
12
49
96
4
15
49
94
0
15
5
7
97
64
56
98
47
50
2
1
15
5
7
99
64
56
100
47
50
2
1
15
44
43
101
4
32
4
126
2
49
102
3
56
103
50
104
0
11
I
7
I
0
I
0
I
0
I
-2
p
105
s
23
wrap the rack variables
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
286
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
13
49
14
1
15
20
0
49
15
0
49
12
0
7
16
64
49
17
1
15
20
0
49
18
0
49
12
0
7
19
64
49
17
1
15
20
0
49
12
0
49
20
0
49
21
0
15
20
0
49
12
0
49
22
0
49
20
0
49
23
0
15
20
0
49
12
0
49
22
0
49
20
0
49
24
0
15
20
0
49
12
0
49
22
0
49
20
0
49
25
0
15
20
0
49
12
0
49
22
0
49
20
0
49
26
0
15
20
0
49
12
0
49
22
0
49
20
0
49
27
0
15
20
0
49
28
0
49
12
0
7
29
64
49
17
1
15
20
0
49
30
0
49
12
0
7
31
64
49
17
1
15
20
0
49
32
0
49
12
0
7
29
64
49
17
1
15
20
0
49
33
0
49
12
0
7
34
64
49
17
1
15
20
0
49
35
0
49
12
0
7
36
49
17
1
15
20
0
49
37
0
49
12
0
7
38
64
49
17
1
15
20
0
49
39
0
49
12
0
49
20
0
49
40
0
11
I
6
I
1
I
0
I
0
I
-2
p
41
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
24
http://example.com:8080/
x
7
env_for
x
10
initialize
n
x
4
body
x
6
should
x
4
gets
x
11
respond_to?
x
6
scheme
s
4
http
x
5
equal
x
14
request_method
s
3
GET
x
2
be
x
3
get
x
3
not
x
4
post
x
3
put
x
6
delete
x
4
head
x
5
patch
x
11
script_name
s
0

x
9
path_info
s
1
/
x
12
query_string
x
4
host
s
11
example.com
x
4
port
I
1f90
x
14
content_length
s
1
0
x
12
content_type
x
3
nil
p
35
I
0
I
8
I
33
I
a
I
41
I
b
I
50
I
c
I
5f
I
e
I
6b
I
f
I
7a
I
10
I
89
I
11
I
98
I
12
I
a7
I
13
I
b6
I
15
I
c5
I
16
I
d4
I
17
I
e3
I
19
I
f2
I
1a
I
100
I
1c
I
10f
I
1d
I
11e
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
x
6
should
s
27
figure out the correct host
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
521
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
11
64
49
18
1
15
45
0
19
43
2
13
71
3
47
9
165
47
49
4
0
13
45
0
20
43
6
7
7
64
44
43
8
80
49
9
1
13
7
21
64
7
22
64
49
12
2
15
13
7
23
64
7
24
64
49
12
2
15
49
13
2
47
49
14
1
15
8
208
45
0
25
43
6
7
7
64
44
43
8
80
49
9
1
13
7
21
64
7
22
64
49
12
2
15
13
7
23
64
7
24
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
22
64
49
18
1
15
45
0
26
43
2
13
71
3
47
9
289
47
49
4
0
13
45
0
27
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
28
64
49
12
2
15
13
7
29
64
7
30
64
49
12
2
15
49
13
2
47
49
14
1
15
8
332
45
0
31
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
28
64
49
12
2
15
13
7
29
64
7
30
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
22
64
49
18
1
15
45
0
32
43
6
7
7
64
44
43
8
80
49
9
1
13
7
33
64
7
34
64
49
12
2
15
13
7
23
64
7
24
64
49
12
2
15
49
13
2
19
1
15
20
1
7
21
64
49
35
1
15
45
0
36
43
2
13
71
3
47
9
427
47
49
4
0
13
20
1
47
49
14
1
15
8
432
20
1
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
34
64
49
18
1
15
45
0
37
43
6
7
7
64
49
13
1
19
1
15
20
1
7
21
64
49
35
1
15
45
0
38
43
2
13
71
3
47
9
498
47
49
4
0
13
20
1
47
49
14
1
15
8
503
20
1
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
39
64
49
18
1
11
I
b
I
2
I
0
I
0
I
-2
p
40
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
9
HTTP_HOST
s
16
www2.example.org
x
3
[]=
x
7
env_for
x
10
initialize
n
x
4
host
x
6
should
x
5
equal
n
n
s
11
SERVER_NAME
s
11
example.org
s
11
SERVER_PORT
s
4
9292
n
n
n
s
12
localhost:81
s
21
HTTP_X_FORWARDED_HOST
s
16
example.org:9292
n
n
s
11
SERVER_ADDR
s
11
192.168.1.1
x
6
delete
n
n
n
s
0

p
41
I
0
I
21
I
10
I
22
I
54
I
21
I
57
I
23
I
66
I
25
I
76
I
26
I
d0
I
25
I
d3
I
27
I
e2
I
29
I
f2
I
2a
I
14c
I
29
I
14f
I
2b
I
15e
I
2d
I
189
I
2e
I
192
I
2f
I
1b3
I
30
I
1c2
I
32
I
1d0
I
33
I
1d9
I
34
I
1fa
I
35
I
209
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
3
req
x
3
env
s
27
figure out the correct port
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
1306
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
4
80
49
18
1
15
45
0
19
43
2
13
71
3
47
9
153
47
49
4
0
13
45
0
20
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
21
64
49
12
2
15
49
13
2
47
49
14
1
15
8
185
45
0
22
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
21
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
4
81
49
18
1
15
45
0
23
43
2
13
71
3
47
9
265
47
49
4
0
13
45
0
24
43
6
7
7
64
44
43
8
80
49
9
1
13
7
25
64
7
26
64
49
12
2
15
13
7
27
64
7
28
64
49
12
2
15
49
13
2
47
49
14
1
15
8
308
45
0
29
43
6
7
7
64
44
43
8
80
49
9
1
13
7
25
64
7
26
64
49
12
2
15
13
7
27
64
7
28
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
30
49
18
1
15
45
0
31
43
2
13
71
3
47
9
388
47
49
4
0
13
45
0
32
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
35
64
49
12
2
15
49
13
2
47
49
14
1
15
8
431
45
0
36
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
35
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
30
49
18
1
15
45
0
37
43
2
13
71
3
47
9
511
47
49
4
0
13
45
0
38
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
49
13
2
47
49
14
1
15
8
554
45
0
39
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
4
80
49
18
1
15
45
0
40
43
2
13
71
3
47
9
646
47
49
4
0
13
45
0
41
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
13
7
42
64
7
43
64
49
12
2
15
49
13
2
47
49
14
1
15
8
701
45
0
44
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
13
7
42
64
7
43
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
45
49
18
1
15
45
0
46
43
2
13
71
3
47
9
793
47
49
4
0
13
45
0
47
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
13
7
48
64
7
49
64
49
12
2
15
49
13
2
47
49
14
1
15
8
848
45
0
50
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
13
7
48
64
7
49
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
45
49
18
1
15
45
0
51
43
2
13
71
3
47
9
940
47
49
4
0
13
45
0
52
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
13
7
53
64
7
54
64
49
12
2
15
49
13
2
47
49
14
1
15
8
995
45
0
55
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
13
7
53
64
7
54
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
56
49
18
1
15
45
0
57
43
2
13
71
3
47
9
1087
47
49
4
0
13
45
0
58
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
59
64
49
12
2
15
13
7
27
64
7
60
64
49
12
2
15
49
13
2
47
49
14
1
15
8
1142
45
0
61
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
59
64
49
12
2
15
13
7
27
64
7
60
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
56
49
18
1
15
45
0
62
43
2
13
71
3
47
9
1234
47
49
4
0
13
45
0
63
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
13
7
27
64
7
54
64
49
12
2
15
49
13
2
47
49
14
1
15
8
1289
45
0
64
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
33
64
49
12
2
15
13
7
34
64
7
26
64
49
12
2
15
13
7
27
64
7
54
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
4
80
49
18
1
11
I
a
I
1
I
0
I
0
I
-2
p
65
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
9
HTTP_HOST
s
16
www2.example.org
x
3
[]=
x
7
env_for
x
10
initialize
n
x
4
port
x
6
should
x
5
equal
n
n
s
19
www2.example.org:81
n
n
n
s
11
SERVER_NAME
s
11
example.org
s
11
SERVER_PORT
s
4
9292
n
I
244c
n
n
s
12
localhost:81
s
21
HTTP_X_FORWARDED_HOST
s
16
example.org:9292
n
n
n
n
n
n
s
20
HTTP_X_FORWARDED_SSL
s
2
on
n
I
1bb
n
n
s
22
HTTP_X_FORWARDED_PROTO
s
5
https
n
n
n
s
21
HTTP_X_FORWARDED_PORT
s
4
9393
n
I
24b1
n
n
s
16
example.org:9393
s
2
80
n
n
n
n
p
81
I
0
I
39
I
10
I
3a
I
54
I
39
I
57
I
3b
I
65
I
3d
I
75
I
3e
I
b9
I
3d
I
bc
I
3f
I
ca
I
41
I
da
I
42
I
134
I
41
I
137
I
43
I
145
I
45
I
155
I
46
I
1af
I
45
I
1b2
I
47
I
1c0
I
49
I
1d0
I
4a
I
22a
I
49
I
22d
I
4b
I
23b
I
4d
I
24b
I
4e
I
2bd
I
4d
I
2c0
I
4f
I
2ce
I
51
I
2de
I
52
I
350
I
51
I
353
I
53
I
361
I
55
I
371
I
56
I
3e3
I
55
I
3e6
I
57
I
3f4
I
59
I
404
I
5a
I
476
I
59
I
479
I
5b
I
487
I
5d
I
497
I
5e
I
509
I
5d
I
50c
I
5f
I
51a
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
37
figure out the correct host with port
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
600
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
11
64
49
18
1
15
45
0
19
43
2
13
71
3
47
9
154
47
49
4
0
13
45
0
20
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
21
64
49
12
2
15
49
13
2
47
49
14
1
15
8
186
45
0
22
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
21
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
21
64
49
18
1
15
45
0
23
43
2
13
71
3
47
9
267
47
49
4
0
13
45
0
24
43
6
7
7
64
44
43
8
80
49
9
1
13
7
25
64
7
26
64
49
12
2
15
13
7
27
64
7
28
64
49
12
2
15
49
13
2
47
49
14
1
15
8
310
45
0
29
43
6
7
7
64
44
43
8
80
49
9
1
13
7
25
64
7
26
64
49
12
2
15
13
7
27
64
7
28
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
30
64
49
18
1
15
45
0
31
43
2
13
71
3
47
9
391
47
49
4
0
13
45
0
32
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
21
64
49
12
2
15
13
7
33
64
7
30
64
49
12
2
15
49
13
2
47
49
14
1
15
8
434
45
0
34
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
21
64
49
12
2
15
13
7
33
64
7
30
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
30
64
49
18
1
15
45
0
35
43
2
13
71
3
47
9
527
47
49
4
0
13
45
0
36
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
21
64
49
12
2
15
13
7
33
64
7
26
64
49
12
2
15
13
7
27
64
7
37
64
49
12
2
15
49
13
2
47
49
14
1
15
8
582
45
0
38
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
21
64
49
12
2
15
13
7
33
64
7
26
64
49
12
2
15
13
7
27
64
7
37
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
26
64
49
18
1
11
I
a
I
1
I
0
I
0
I
-2
p
39
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
9
HTTP_HOST
s
16
www2.example.org
x
3
[]=
x
7
env_for
x
10
initialize
n
x
14
host_with_port
x
6
should
x
5
equal
n
n
s
12
localhost:81
n
n
n
s
11
SERVER_NAME
s
11
example.org
s
11
SERVER_PORT
s
4
9292
n
s
16
example.org:9292
n
n
s
21
HTTP_X_FORWARDED_HOST
n
n
n
s
4
9393
n
p
41
I
0
I
63
I
10
I
64
I
54
I
63
I
57
I
65
I
66
I
67
I
76
I
68
I
ba
I
67
I
bd
I
69
I
cc
I
6b
I
dc
I
6c
I
136
I
6b
I
139
I
6d
I
148
I
6f
I
158
I
70
I
1b2
I
6f
I
1b5
I
71
I
1c4
I
73
I
1d4
I
74
I
246
I
73
I
249
I
75
I
258
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
22
parse the query string
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
163
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
13
64
49
14
1
15
20
0
49
15
0
49
12
0
44
43
16
80
49
17
1
13
7
18
64
7
19
64
49
20
2
15
13
7
21
64
7
22
64
49
20
2
15
49
14
1
15
20
0
49
23
0
49
12
0
49
24
0
49
25
0
15
20
0
49
26
0
49
12
0
44
43
16
80
49
17
1
13
7
18
64
7
19
64
49
20
2
15
13
7
21
64
7
22
64
49
20
2
15
49
14
1
11
I
7
I
1
I
0
I
0
I
-2
p
27
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
18
/?foo=bar&quux=bla
x
7
env_for
x
10
initialize
n
x
12
query_string
x
6
should
s
16
foo=bar&quux=bla
x
5
equal
x
3
GET
x
4
Hash
x
16
new_from_literal
s
3
foo
s
3
bar
x
3
[]=
s
4
quux
s
3
bla
x
4
POST
x
2
be
x
5
empty
x
6
params
p
11
I
0
I
79
I
33
I
7a
I
42
I
7b
I
6b
I
7c
I
7a
I
7d
I
a3
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
42
not unify GET and POST when calling params
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
177
45
0
1
43
2
7
3
64
44
43
4
80
49
5
1
13
7
6
64
7
7
64
49
8
2
15
13
7
9
7
10
64
49
8
2
15
49
11
2
19
0
15
45
0
12
43
13
13
71
14
47
9
67
47
49
15
0
13
20
0
47
49
16
1
15
8
72
20
0
49
14
1
19
1
15
20
1
49
17
0
15
20
1
49
18
0
49
19
0
44
43
4
79
49
5
1
13
7
20
64
7
21
64
49
8
2
15
49
22
1
15
20
1
49
23
0
49
19
0
44
43
4
80
49
5
1
13
7
20
64
7
24
64
49
8
2
15
13
7
21
64
7
25
64
49
8
2
15
49
22
1
15
20
1
49
17
0
49
19
0
20
1
49
18
0
20
1
49
23
0
49
26
1
49
22
1
11
I
9
I
2
I
0
I
0
I
-2
p
27
x
4
Rack
n
x
11
MockRequest
s
10
/?foo=quux
x
4
Hash
x
16
new_from_literal
s
14
REQUEST_METHOD
s
4
POST
x
3
[]=
x
5
input
s
16
foo=bar&quux=bla
x
7
env_for
n
x
7
Request
x
3
new
x
8
allocate
x
10
initialize
x
6
params
x
3
GET
x
6
should
s
3
foo
s
4
quux
x
5
equal
x
4
POST
s
3
bar
s
3
bla
x
5
merge
p
21
I
0
I
81
I
8
I
83
I
10
I
82
I
1b
I
83
I
24
I
81
I
2a
I
85
I
4b
I
87
I
51
I
89
I
6f
I
8a
I
98
I
8b
I
b1
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
2
mr
x
3
req
s
30
raise if rack.input is missing
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
60
45
0
1
43
2
13
71
3
47
9
30
47
49
4
0
13
44
43
5
78
49
6
1
47
49
7
1
15
8
40
44
43
5
78
49
6
1
49
3
1
19
0
15
5
56
8
47
50
9
0
49
10
0
45
11
12
49
13
1
11
I
6
I
1
I
0
I
0
I
-2
p
14
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
x
4
Hash
x
16
new_from_literal
x
10
initialize
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
0
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
90
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
6
lambda
x
6
should
x
12
RuntimeError
n
x
5
raise
p
5
I
0
I
8f
I
2b
I
90
I
3c
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
61
parse POST data when method is POST and no Content-Type given
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
264
45
0
1
43
2
13
71
3
47
9
62
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
7
14
64
49
12
2
15
49
15
2
47
49
16
1
15
8
104
45
0
17
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
7
14
64
49
12
2
15
49
15
2
49
3
1
19
0
15
20
0
49
18
0
49
19
0
49
20
0
49
21
0
15
20
0
49
22
0
49
19
0
49
20
0
49
21
0
15
20
0
49
23
0
49
19
0
7
24
64
49
25
1
15
20
0
49
26
0
49
19
0
44
43
8
79
49
9
1
13
7
27
64
7
28
64
49
12
2
15
49
25
1
15
20
0
49
29
0
49
19
0
44
43
8
80
49
9
1
13
7
27
64
7
30
64
49
12
2
15
13
7
28
64
7
31
64
49
12
2
15
49
25
1
15
20
0
49
32
0
49
19
0
44
43
8
80
49
9
1
13
7
27
64
7
30
64
49
12
2
15
13
7
28
64
7
31
64
49
12
2
15
49
25
1
11
I
a
I
1
I
0
I
0
I
-2
p
33
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
10
/?foo=quux
x
4
Hash
x
16
new_from_literal
s
14
REQUEST_METHOD
s
4
POST
x
3
[]=
x
5
input
s
16
foo=bar&quux=bla
x
7
env_for
x
10
initialize
n
x
12
content_type
x
6
should
x
2
be
x
3
nil
x
10
media_type
x
12
query_string
s
8
foo=quux
x
5
equal
x
3
GET
s
3
foo
s
4
quux
x
4
POST
s
3
bar
s
3
bla
x
6
params
p
35
I
0
I
94
I
10
I
95
I
18
I
97
I
20
I
96
I
2b
I
97
I
34
I
95
I
46
I
97
I
4e
I
96
I
59
I
97
I
62
I
95
I
68
I
94
I
6b
I
98
I
7a
I
99
I
89
I
9a
I
98
I
9b
I
b6
I
9c
I
df
I
9d
I
108
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
63
parse POST data with explicit content type regardless of method
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
240
45
0
1
43
2
13
71
3
47
9
62
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
7
14
64
49
12
2
15
49
15
2
47
49
16
1
15
8
104
45
0
17
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
7
14
64
49
12
2
15
49
15
2
49
3
1
19
0
15
20
0
49
18
0
49
19
0
7
11
64
49
20
1
15
20
0
49
21
0
49
19
0
7
22
64
49
20
1
15
20
0
49
23
0
7
24
64
49
25
1
49
19
0
7
26
64
49
20
1
15
20
0
49
27
0
49
19
0
44
43
8
80
49
9
1
13
7
24
64
7
26
64
49
12
2
15
13
7
28
64
7
29
64
49
12
2
15
49
20
1
15
20
0
49
30
0
49
19
0
44
43
8
80
49
9
1
13
7
24
64
7
26
64
49
12
2
15
13
7
28
64
7
29
64
49
12
2
15
49
20
1
11
I
a
I
1
I
0
I
0
I
-2
p
31
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
41
application/x-www-form-urlencoded;foo=bar
x
3
[]=
x
5
input
s
16
foo=bar&quux=bla
x
7
env_for
x
10
initialize
n
x
12
content_type
x
6
should
x
5
equal
x
10
media_type
s
33
application/x-www-form-urlencoded
x
17
media_type_params
s
3
foo
x
2
[]
s
3
bar
x
4
POST
s
4
quux
s
3
bla
x
6
params
p
33
I
0
I
a1
I
10
I
a2
I
18
I
a4
I
20
I
a3
I
2b
I
a4
I
34
I
a2
I
46
I
a4
I
4e
I
a3
I
59
I
a4
I
62
I
a2
I
68
I
a1
I
6b
I
a5
I
7a
I
a6
I
89
I
a7
I
9e
I
a8
I
c7
I
a9
I
f0
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
52
not parse POST data when media type is not form-data
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
245
45
0
1
43
2
13
71
3
47
9
74
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
64
7
14
64
49
12
2
15
13
7
15
7
16
64
49
12
2
15
49
17
2
47
49
18
1
15
8
128
45
0
19
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
64
7
14
64
49
12
2
15
13
7
15
7
16
64
49
12
2
15
49
17
2
49
3
1
19
0
15
20
0
49
20
0
49
21
0
7
14
64
49
22
1
15
20
0
49
23
0
49
21
0
7
24
64
49
22
1
15
20
0
49
25
0
7
26
64
49
27
1
49
21
0
7
28
64
49
22
1
15
20
0
49
29
0
49
21
0
49
30
0
49
31
0
15
20
0
49
32
0
49
21
0
44
43
8
79
49
9
1
13
7
33
64
7
34
64
49
12
2
15
49
22
1
15
20
0
49
35
0
49
36
0
49
21
0
7
16
64
49
22
1
11
I
a
I
1
I
0
I
0
I
-2
p
37
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
10
/?foo=quux
x
4
Hash
x
16
new_from_literal
s
14
REQUEST_METHOD
s
4
POST
x
3
[]=
s
12
CONTENT_TYPE
s
24
text/plain;charset=utf-8
x
5
input
s
16
foo=bar&quux=bla
x
7
env_for
x
10
initialize
n
x
12
content_type
x
6
should
x
5
equal
x
10
media_type
s
10
text/plain
x
17
media_type_params
s
7
charset
x
2
[]
s
5
utf-8
x
4
POST
x
2
be
x
5
empty
x
6
params
s
3
foo
s
4
quux
x
4
body
x
4
read
p
39
I
0
I
ad
I
10
I
ae
I
18
I
b1
I
21
I
af
I
2c
I
b0
I
37
I
b1
I
40
I
ae
I
52
I
b1
I
5b
I
af
I
66
I
b0
I
71
I
b1
I
7a
I
ae
I
80
I
ad
I
83
I
b2
I
92
I
b3
I
a1
I
b4
I
b6
I
b5
I
c5
I
b6
I
e3
I
b7
I
f5
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
51
parse POST data on PUT when media type is form-data
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
190
45
0
1
43
2
13
71
3
47
9
74
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
64
7
14
64
49
12
2
15
13
7
15
7
16
64
49
12
2
15
49
17
2
47
49
18
1
15
8
128
45
0
19
43
6
7
7
64
44
43
8
4
3
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
64
7
14
64
49
12
2
15
13
7
15
7
16
64
49
12
2
15
49
17
2
49
3
1
19
0
15
20
0
49
20
0
49
21
0
44
43
8
80
49
9
1
13
7
22
64
7
23
64
49
12
2
15
13
7
24
64
7
25
64
49
12
2
15
49
26
1
15
20
0
49
27
0
49
28
0
49
21
0
7
16
64
49
26
1
11
I
a
I
1
I
0
I
0
I
-2
p
29
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
10
/?foo=quux
x
4
Hash
x
16
new_from_literal
s
14
REQUEST_METHOD
s
3
PUT
x
3
[]=
s
12
CONTENT_TYPE
s
33
application/x-www-form-urlencoded
x
5
input
s
16
foo=bar&quux=bla
x
7
env_for
x
10
initialize
n
x
4
POST
x
6
should
s
3
foo
s
3
bar
s
4
quux
s
3
bla
x
5
equal
x
4
body
x
4
read
p
31
I
0
I
bb
I
10
I
bc
I
18
I
bf
I
21
I
bd
I
2c
I
be
I
37
I
bf
I
40
I
bc
I
52
I
bf
I
5b
I
bd
I
66
I
be
I
71
I
bf
I
7a
I
bc
I
80
I
bb
I
83
I
c0
I
ac
I
c1
I
be
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
36
rewind input after parsing POST data
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
194
45
0
1
13
71
2
47
9
24
47
49
3
0
13
7
4
64
47
49
5
1
15
8
30
7
4
64
49
2
1
19
0
15
45
6
7
43
8
13
71
2
47
9
94
47
49
3
0
13
45
6
9
43
10
7
11
64
44
43
12
80
49
13
1
13
7
14
64
7
15
64
49
16
2
15
13
7
17
20
0
49
16
2
15
49
18
2
47
49
5
1
15
8
135
45
6
19
43
10
7
11
64
44
43
12
80
49
13
1
13
7
14
64
7
15
64
49
16
2
15
13
7
17
20
0
49
16
2
15
49
18
2
49
2
1
19
1
15
20
1
49
20
0
49
21
0
44
43
12
80
49
13
1
13
7
22
64
7
23
64
49
16
2
15
13
7
24
64
7
25
64
49
16
2
15
49
26
1
15
20
0
49
27
0
49
21
0
7
4
64
49
26
1
11
I
b
I
2
I
0
I
0
I
-2
p
28
x
8
StringIO
n
x
3
new
x
8
allocate
s
16
foo=bar&quux=bla
x
10
initialize
x
4
Rack
n
x
7
Request
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
41
application/x-www-form-urlencoded;foo=bar
x
3
[]=
x
5
input
x
7
env_for
n
x
6
params
x
6
should
s
3
foo
s
3
bar
s
4
quux
s
3
bla
x
5
equal
x
4
read
p
29
I
0
I
c5
I
21
I
c6
I
31
I
c7
I
39
I
c9
I
41
I
c8
I
4c
I
c9
I
54
I
c7
I
66
I
c9
I
6e
I
c8
I
79
I
c9
I
81
I
c7
I
87
I
c6
I
8a
I
ca
I
b3
I
cb
I
c2
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
5
input
x
3
req
s
32
clean up Safari's ajax POST body
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
148
45
0
1
43
2
13
71
3
47
9
62
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
7
14
64
49
12
2
15
49
15
2
47
49
16
1
15
8
104
45
0
17
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
7
14
64
49
12
2
15
49
15
2
49
3
1
19
0
15
20
0
49
18
0
49
19
0
44
43
8
80
49
9
1
13
7
20
64
7
21
64
49
12
2
15
13
7
22
64
7
23
64
49
12
2
15
49
24
1
11
I
a
I
1
I
0
I
0
I
-2
p
25
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
14
REQUEST_METHOD
s
4
POST
x
3
[]=
x
5
input
s
17
foo=bar&quux=bla 
x
7
env_for
x
10
initialize
n
x
4
POST
x
6
should
s
3
foo
s
3
bar
s
4
quux
s
3
bla
x
5
equal
p
17
I
0
I
cf
I
10
I
d0
I
18
I
d1
I
34
I
d0
I
46
I
d1
I
62
I
d0
I
68
I
cf
I
6b
I
d2
I
94
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
37
get value by key from params with #[]
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
86
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
19
0
15
20
0
7
11
64
49
12
1
49
13
0
7
14
64
49
15
1
15
20
0
7
16
49
12
1
49
13
0
7
14
64
49
15
1
11
I
6
I
1
I
0
I
0
I
-2
p
17
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
9
?foo=quux
x
7
env_for
x
10
initialize
n
s
3
foo
x
2
[]
x
6
should
s
4
quux
x
5
equal
x
3
foo
p
11
I
0
I
d6
I
10
I
d7
I
30
I
d6
I
33
I
d8
I
45
I
d9
I
56
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
36
set value to key on params with #[]=
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
277
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
19
0
15
20
0
7
11
64
49
12
1
49
13
0
7
14
64
49
15
1
15
20
0
7
16
49
12
1
49
13
0
7
14
64
49
15
1
15
20
0
49
17
0
49
13
0
44
43
18
79
49
19
1
13
7
11
64
7
14
64
49
20
2
15
49
15
1
15
20
0
7
11
64
7
21
64
13
18
3
49
20
2
15
15
20
0
49
17
0
49
13
0
44
43
18
79
49
19
1
13
7
11
64
7
21
64
49
20
2
15
49
15
1
15
20
0
7
11
64
49
12
1
49
13
0
7
21
64
49
15
1
15
20
0
7
16
49
12
1
49
13
0
7
21
64
49
15
1
15
20
0
7
16
7
22
64
13
18
3
49
20
2
15
15
20
0
49
17
0
49
13
0
44
43
18
79
49
19
1
13
7
11
64
7
22
64
49
20
2
15
49
15
1
15
20
0
7
11
64
49
12
1
49
13
0
7
22
64
49
15
1
15
20
0
7
16
49
12
1
49
13
0
7
22
64
49
15
1
11
I
7
I
1
I
0
I
0
I
-2
p
23
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
8
?foo=duh
x
7
env_for
x
10
initialize
n
s
3
foo
x
2
[]
x
6
should
s
3
duh
x
5
equal
x
3
foo
x
6
params
x
4
Hash
x
16
new_from_literal
x
3
[]=
s
3
bar
s
3
jaz
p
29
I
0
I
dd
I
10
I
de
I
30
I
dd
I
33
I
df
I
45
I
e0
I
56
I
e1
I
74
I
e3
I
84
I
e4
I
a2
I
e5
I
b4
I
e6
I
c5
I
e8
I
d4
I
e9
I
f2
I
ea
I
104
I
eb
I
115
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
60
return values for the keys in the order given from values_at
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
129
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
19
0
15
20
0
7
11
64
49
12
1
49
13
0
7
14
64
35
1
49
15
1
15
20
0
7
11
64
7
16
64
49
12
2
49
13
0
7
14
64
7
17
64
35
2
49
15
1
15
20
0
7
18
64
7
11
64
7
16
64
49
12
3
49
13
0
7
19
64
7
14
64
7
17
64
35
3
49
15
1
11
I
6
I
1
I
0
I
0
I
-2
p
20
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
24
?foo=baz&wun=der&bar=ful
x
7
env_for
x
10
initialize
n
s
3
foo
x
9
values_at
x
6
should
s
3
baz
x
5
equal
s
3
wun
s
3
der
s
3
bar
s
3
ful
p
13
I
0
I
ef
I
10
I
f0
I
30
I
ef
I
33
I
f1
I
47
I
f2
I
61
I
f3
I
81
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
26
extract referrer correctly
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
166
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
11
64
49
18
1
15
45
0
19
43
2
13
71
3
47
9
136
47
49
4
0
13
45
0
20
43
6
7
7
64
49
13
1
47
49
14
1
15
8
150
45
0
21
43
6
7
7
64
49
13
1
49
3
1
19
0
15
20
0
49
16
0
49
17
0
1
49
18
1
11
I
a
I
1
I
0
I
0
I
-2
p
22
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
HTTP_REFERER
s
10
/some/path
x
3
[]=
x
7
env_for
x
10
initialize
n
x
7
referer
x
6
should
x
5
equal
n
n
n
p
17
I
0
I
f7
I
10
I
f8
I
54
I
f7
I
57
I
f9
I
66
I
fb
I
76
I
fc
I
96
I
fb
I
99
I
fd
I
a6
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
28
extract user agent correctly
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
166
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
7
11
64
49
18
1
15
45
0
19
43
2
13
71
3
47
9
136
47
49
4
0
13
45
0
20
43
6
7
7
64
49
13
1
47
49
14
1
15
8
150
45
0
21
43
6
7
7
64
49
13
1
49
3
1
19
0
15
20
0
49
16
0
49
17
0
1
49
18
1
11
I
a
I
1
I
0
I
0
I
-2
p
22
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
15
HTTP_USER_AGENT
s
24
Mozilla/4.0 (compatible)
x
3
[]=
x
7
env_for
x
10
initialize
n
x
10
user_agent
x
6
should
x
5
equal
n
n
n
p
17
I
0
I
101
I
10
I
102
I
54
I
101
I
57
I
103
I
66
I
105
I
76
I
106
I
96
I
105
I
99
I
107
I
a6
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
33
treat missing content type as nil
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
64
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
19
0
15
20
0
49
11
0
49
12
0
1
49
13
1
11
I
6
I
1
I
0
I
0
I
-2
p
14
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
7
env_for
x
10
initialize
n
x
12
content_type
x
6
should
x
5
equal
p
9
I
0
I
10b
I
10
I
10c
I
30
I
10b
I
33
I
10d
I
40
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
31
treat empty content type as nil
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
100
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
1
49
18
1
11
I
a
I
1
I
0
I
0
I
-2
p
19
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
0

x
3
[]=
x
7
env_for
x
10
initialize
n
x
12
content_type
x
6
should
x
5
equal
p
9
I
0
I
111
I
10
I
112
I
54
I
111
I
57
I
113
I
64
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
44
return nil media type for empty content type
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
100
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
1
49
18
1
11
I
a
I
1
I
0
I
0
I
-2
p
19
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
0

x
3
[]=
x
7
env_for
x
10
initialize
n
x
10
media_type
x
6
should
x
5
equal
p
9
I
0
I
117
I
10
I
118
I
54
I
117
I
57
I
119
I
64
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
32
cache, but invalidates the cache
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
456
45
0
1
43
2
13
71
3
47
9
62
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
7
14
64
49
12
2
15
49
15
2
47
49
16
1
15
8
104
45
0
17
43
6
7
7
64
44
43
8
80
49
9
1
13
7
10
64
7
11
64
49
12
2
15
13
7
13
7
14
64
49
12
2
15
49
15
2
49
3
1
19
0
15
20
0
49
18
0
49
19
0
44
43
8
79
49
9
1
13
7
20
64
7
21
64
49
12
2
15
49
22
1
15
20
0
49
18
0
49
19
0
44
43
8
79
49
9
1
13
7
20
64
7
21
64
49
12
2
15
49
22
1
15
20
0
49
23
0
7
24
64
7
25
64
13
18
3
49
12
2
15
15
20
0
49
18
0
49
19
0
44
43
8
79
49
9
1
13
7
26
64
7
20
64
49
12
2
15
49
22
1
15
20
0
49
18
0
49
19
0
44
43
8
79
49
9
1
13
7
26
64
7
20
64
49
12
2
15
49
22
1
15
20
0
49
27
0
49
19
0
44
43
8
80
49
9
1
13
7
20
64
7
28
64
49
12
2
15
13
7
21
64
7
26
64
49
12
2
15
49
22
1
15
20
0
49
27
0
49
19
0
44
43
8
80
49
9
1
13
7
20
64
7
28
64
49
12
2
15
13
7
21
64
7
26
64
49
12
2
15
49
22
1
15
20
0
49
23
0
7
29
64
45
30
31
13
71
3
47
9
360
47
49
4
0
13
7
32
64
47
49
16
1
15
8
366
7
32
64
49
3
1
13
18
3
49
12
2
15
15
20
0
49
27
0
49
19
0
44
43
8
80
49
9
1
13
7
20
64
7
26
64
49
12
2
15
13
7
21
64
7
28
64
49
12
2
15
49
22
1
15
20
0
49
27
0
49
19
0
44
43
8
80
49
9
1
13
7
20
64
7
26
64
49
12
2
15
13
7
21
64
7
28
64
49
12
2
15
49
22
1
11
I
a
I
1
I
0
I
0
I
-2
p
33
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
10
/?foo=quux
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
33
application/x-www-form-urlencoded
x
3
[]=
x
5
input
s
16
foo=bar&quux=bla
x
7
env_for
x
10
initialize
n
x
3
GET
x
6
should
s
3
foo
s
4
quux
x
5
equal
x
3
env
s
12
QUERY_STRING
s
7
bla=foo
s
3
bla
x
4
POST
s
3
bar
s
10
rack.input
x
8
StringIO
n
s
16
foo=bla&quux=bar
p
43
I
0
I
11d
I
10
I
11e
I
18
I
120
I
20
I
11f
I
2b
I
120
I
34
I
11e
I
46
I
120
I
4e
I
11f
I
59
I
120
I
62
I
11e
I
68
I
11d
I
6b
I
121
I
89
I
122
I
a7
I
123
I
ba
I
124
I
d8
I
125
I
f6
I
127
I
11f
I
128
I
148
I
129
I
176
I
12a
I
19f
I
12b
I
1c8
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
28
figure out if called via XHR
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
165
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
19
0
15
20
0
49
11
0
49
12
0
49
13
0
49
14
0
15
45
0
15
43
2
13
71
3
47
9
118
47
49
4
0
13
45
0
16
43
6
7
7
64
44
43
17
79
49
18
1
13
7
19
64
7
20
64
49
21
2
15
49
8
2
47
49
9
1
15
8
150
45
0
22
43
6
7
7
64
44
43
17
79
49
18
1
13
7
19
64
7
20
64
49
21
2
15
49
8
2
49
3
1
19
0
15
20
0
49
11
0
49
13
0
49
14
0
11
I
a
I
1
I
0
I
0
I
-2
p
23
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
7
env_for
x
10
initialize
n
x
6
should
x
3
not
x
2
be
x
3
xhr
n
n
x
4
Hash
x
16
new_from_literal
s
21
HTTP_X_REQUESTED_WITH
s
14
XMLHttpRequest
x
3
[]=
n
p
13
I
0
I
12f
I
33
I
130
I
42
I
132
I
52
I
133
I
96
I
132
I
99
I
134
I
a5
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
13
ssl detection
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
926
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
13
64
49
14
1
15
20
0
49
12
0
49
15
0
49
16
0
49
17
0
15
45
0
18
43
2
13
71
3
47
9
133
47
49
4
0
13
45
0
19
43
6
7
7
64
44
43
20
79
49
21
1
13
7
22
64
7
23
64
49
24
2
15
49
8
2
47
49
9
1
15
8
165
45
0
25
43
6
7
7
64
44
43
20
79
49
21
1
13
7
22
64
7
23
64
49
24
2
15
49
8
2
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
26
64
49
14
1
15
20
0
49
12
0
49
16
0
49
17
0
15
45
0
27
43
2
13
71
3
47
9
247
47
49
4
0
13
45
0
28
43
6
7
7
64
44
43
20
79
49
21
1
13
7
29
64
7
26
64
49
24
2
15
49
8
2
47
49
9
1
15
8
279
45
0
30
43
6
7
7
64
44
43
20
79
49
21
1
13
7
29
64
7
26
64
49
24
2
15
49
8
2
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
26
64
49
14
1
15
20
0
49
12
0
49
16
0
49
17
0
15
45
0
31
43
2
13
71
3
47
9
361
47
49
4
0
13
45
0
32
43
6
7
7
64
44
43
20
79
49
21
1
13
7
33
64
7
34
64
49
24
2
15
49
8
2
47
49
9
1
15
8
393
45
0
35
43
6
7
7
64
44
43
20
79
49
21
1
13
7
33
64
7
34
64
49
24
2
15
49
8
2
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
13
64
49
14
1
15
20
0
49
12
0
49
15
0
49
16
0
49
17
0
15
45
0
36
43
2
13
71
3
47
9
489
47
49
4
0
13
45
0
37
43
6
7
7
64
44
43
20
80
49
21
1
13
7
33
64
7
38
64
49
24
2
15
13
7
22
64
7
23
64
49
24
2
15
49
8
2
47
49
9
1
15
8
532
45
0
39
43
6
7
7
64
44
43
20
80
49
21
1
13
7
33
64
7
38
64
49
24
2
15
13
7
22
64
7
23
64
49
24
2
15
49
8
2
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
26
64
49
14
1
15
20
0
49
12
0
49
16
0
49
17
0
15
45
0
40
43
2
13
71
3
47
9
625
47
49
4
0
13
45
0
41
43
6
7
7
64
44
43
20
80
49
21
1
13
7
33
64
7
38
64
49
24
2
15
13
7
42
64
7
23
64
49
24
2
15
49
8
2
47
49
9
1
15
8
668
45
0
43
43
6
7
7
64
44
43
20
80
49
21
1
13
7
33
64
7
38
64
49
24
2
15
13
7
42
64
7
23
64
49
24
2
15
49
8
2
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
26
64
49
14
1
15
20
0
49
12
0
49
16
0
49
17
0
15
45
0
44
43
2
13
71
3
47
9
750
47
49
4
0
13
45
0
45
43
6
7
7
64
44
43
20
79
49
21
1
13
7
46
64
7
26
64
49
24
2
15
49
8
2
47
49
9
1
15
8
782
45
0
47
43
6
7
7
64
44
43
20
79
49
21
1
13
7
46
64
7
26
64
49
24
2
15
49
8
2
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
26
64
49
14
1
15
20
0
49
12
0
49
16
0
49
17
0
15
45
0
48
43
2
13
71
3
47
9
864
47
49
4
0
13
45
0
49
43
6
7
7
64
44
43
20
79
49
21
1
13
7
46
64
7
50
64
49
24
2
15
49
8
2
47
49
9
1
15
8
896
45
0
51
43
6
7
7
64
44
43
20
79
49
21
1
13
7
46
64
7
50
64
49
24
2
15
49
8
2
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
26
64
49
14
1
15
20
0
49
12
0
49
16
0
49
52
0
11
I
a
I
1
I
0
I
0
I
-2
p
53
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
7
env_for
x
10
initialize
n
x
6
scheme
x
6
should
s
4
http
x
5
equal
x
3
not
x
2
be
x
4
ssl?
n
n
x
4
Hash
x
16
new_from_literal
s
5
HTTPS
s
2
on
x
3
[]=
n
s
5
https
n
n
s
15
rack.url_scheme
n
n
n
s
9
HTTP_HOST
s
20
www.example.org:8080
n
n
n
s
20
www.example.org:8443
n
n
n
s
20
HTTP_X_FORWARDED_SSL
n
n
n
s
22
HTTP_X_FORWARDED_PROTO
n
n
n
s
17
https, http, http
n
x
3
ssl
p
49
I
0
I
138
I
33
I
139
I
42
I
13a
I
51
I
13c
I
a8
I
13d
I
b7
I
13e
I
c3
I
140
I
11a
I
141
I
129
I
142
I
135
I
144
I
18c
I
145
I
19b
I
146
I
1aa
I
148
I
217
I
149
I
226
I
14a
I
232
I
14c
I
29f
I
14d
I
2ae
I
14e
I
2ba
I
150
I
311
I
151
I
320
I
152
I
32c
I
154
I
383
I
155
I
392
I
156
I
39e
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
7
request
s
13
parse cookies
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
200
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
44
43
8
80
49
9
1
13
7
18
64
7
19
64
49
12
2
15
13
7
20
64
7
21
64
49
12
2
15
49
22
1
15
20
0
49
16
0
49
17
0
44
43
8
80
49
9
1
13
7
18
64
7
19
64
49
12
2
15
13
7
20
64
7
21
64
49
12
2
15
49
22
1
15
20
0
49
23
0
7
10
64
49
24
1
15
20
0
49
16
0
49
17
0
44
43
8
78
49
9
1
49
22
1
11
I
a
I
1
I
0
I
0
I
-2
p
25
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
4
Hash
x
16
new_from_literal
s
11
HTTP_COOKIE
s
16
foo=bar;quux=h&m
x
3
[]=
x
7
env_for
x
10
initialize
n
x
7
cookies
x
6
should
s
3
foo
s
3
bar
s
4
quux
s
3
h&m
x
5
equal
x
3
env
x
6
delete
p
15
I
0
I
15a
I
10
I
15b
I
54
I
15a
I
57
I
15c
I
80
I
15d
I
a9
I
15e
I
b5
I
15f
I
c8
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
35
parse cookies according to RFC 2109
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
117
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
44
43
8
79
49
9
1
13
7
18
64
7
19
64
49
12
2
15
49
20
1
11
I
a
I
1
I
0
I
0
I
-2
p
21
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
4
Hash
x
16
new_from_literal
s
11
HTTP_COOKIE
s
15
foo=bar;foo=car
x
3
[]=
x
7
env_for
x
10
initialize
n
x
7
cookies
x
6
should
s
3
foo
s
3
bar
x
5
equal
p
9
I
0
I
163
I
10
I
164
I
54
I
163
I
57
I
165
I
75
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
25
parse cookies with quotes
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
151
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
44
43
8
4
4
49
9
1
13
7
18
64
7
19
64
49
12
2
15
13
7
20
64
7
21
64
49
12
2
15
13
7
22
64
7
23
64
49
12
2
15
13
7
24
64
7
25
64
49
12
2
15
49
26
1
11
I
a
I
1
I
0
I
0
I
-2
p
27
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
4
Hash
x
16
new_from_literal
s
11
HTTP_COOKIE
s
104
$Version="1"; Customer="WILE_E_COYOTE"; $Path="/acme"; Part_Number="Rocket_Launcher_0001"; $Path="/acme"
x
3
[]=
x
7
env_for
x
10
initialize
n
x
7
cookies
x
6
should
s
8
$Version
s
3
"1"
s
8
Customer
s
15
"WILE_E_COYOTE"
s
5
$Path
s
7
"/acme"
s
11
Part_Number
s
22
"Rocket_Launcher_0001"
x
5
equal
p
29
I
0
I
169
I
18
I
16b
I
20
I
16a
I
2a
I
169
I
3c
I
16b
I
44
I
16a
I
4e
I
169
I
57
I
16c
I
5f
I
171
I
68
I
16d
I
73
I
16e
I
7e
I
16f
I
89
I
170
I
93
I
16c
I
97
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
15
provide setters
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
177
45
0
1
43
2
13
71
3
47
9
36
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
19
1
47
49
9
1
15
8
52
45
0
10
43
6
7
7
64
49
8
1
19
1
49
3
1
19
0
15
20
0
49
11
0
49
12
0
7
7
64
49
13
1
15
20
0
7
14
64
13
18
2
49
15
1
15
15
20
0
49
11
0
49
12
0
7
14
64
49
13
1
15
20
1
7
16
64
49
17
1
49
12
0
7
14
64
49
13
1
15
20
0
49
18
0
49
12
0
7
19
64
49
13
1
15
20
0
7
14
64
13
18
2
49
20
1
15
15
20
0
49
18
0
49
12
0
7
14
64
49
13
1
15
20
1
7
21
64
49
17
1
49
12
0
7
14
64
49
13
1
11
I
7
I
2
I
0
I
0
I
-2
p
22
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
7
env_for
x
10
initialize
n
x
11
script_name
x
6
should
x
5
equal
s
4
/foo
x
12
script_name=
s
11
SCRIPT_NAME
x
2
[]
x
9
path_info
s
1
/
x
10
path_info=
s
9
PATH_INFO
p
19
I
0
I
175
I
37
I
176
I
46
I
177
I
53
I
178
I
62
I
179
I
74
I
17b
I
83
I
17c
I
90
I
17d
I
9f
I
17e
I
b1
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
3
req
x
1
e
s
24
provide the original env
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
68
45
0
1
43
2
13
71
3
47
9
36
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
19
1
47
49
9
1
15
8
52
45
0
10
43
6
7
7
64
49
8
1
19
1
49
3
1
19
0
15
20
0
49
11
0
49
12
0
20
1
83
13
11
I
7
I
2
I
0
I
0
I
-2
p
14
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
7
env_for
x
10
initialize
n
x
3
env
x
6
should
x
2
==
p
5
I
0
I
182
I
37
I
183
I
44
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
3
req
x
1
e
s
20
restore the base URL
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
158
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
49
11
0
49
12
0
7
13
64
49
14
1
15
45
0
15
43
2
13
71
3
47
9
113
47
49
4
0
13
45
0
16
43
6
7
7
64
44
43
17
79
49
18
1
13
7
19
64
7
20
64
49
21
2
15
49
8
2
47
49
9
1
15
8
145
45
0
22
43
6
7
7
64
44
43
17
79
49
18
1
13
7
19
64
7
20
64
49
21
2
15
49
8
2
49
3
1
49
11
0
49
12
0
7
13
64
49
14
1
11
I
9
I
0
I
0
I
0
I
-2
p
23
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
7
env_for
x
10
initialize
n
x
8
base_url
x
6
should
s
18
http://example.org
x
5
equal
n
n
x
4
Hash
x
16
new_from_literal
s
11
SCRIPT_NAME
s
4
/foo
x
3
[]=
n
p
13
I
0
I
187
I
36
I
188
I
39
I
187
I
3d
I
189
I
97
I
18a
I
9a
I
189
I
9e
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
s
15
restore the URL
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
463
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
49
11
0
49
12
0
7
13
64
49
14
1
15
45
0
15
43
2
13
71
3
47
9
113
47
49
4
0
13
45
0
16
43
6
7
7
64
44
43
17
79
49
18
1
13
7
19
64
7
20
64
49
21
2
15
49
8
2
47
49
9
1
15
8
145
45
0
22
43
6
7
7
64
44
43
17
79
49
18
1
13
7
19
64
7
20
64
49
21
2
15
49
8
2
49
3
1
49
11
0
49
12
0
7
23
64
49
14
1
15
45
0
24
43
2
13
71
3
47
9
192
47
49
4
0
13
45
0
25
43
6
7
20
64
49
8
1
47
49
9
1
15
8
206
45
0
26
43
6
7
20
64
49
8
1
49
3
1
49
11
0
49
12
0
7
27
64
49
14
1
15
45
0
28
43
2
13
71
3
47
9
253
47
49
4
0
13
45
0
29
43
6
7
30
64
49
8
1
47
49
9
1
15
8
267
45
0
31
43
6
7
30
64
49
8
1
49
3
1
49
11
0
49
12
0
7
32
64
49
14
1
15
45
0
33
43
2
13
71
3
47
9
314
47
49
4
0
13
45
0
34
43
6
7
35
64
49
8
1
47
49
9
1
15
8
328
45
0
36
43
6
7
35
64
49
8
1
49
3
1
49
11
0
49
12
0
7
35
64
49
14
1
15
45
0
37
43
2
13
71
3
47
9
375
47
49
4
0
13
45
0
38
43
6
7
39
64
49
8
1
47
49
9
1
15
8
389
45
0
40
43
6
7
39
64
49
8
1
49
3
1
49
11
0
49
12
0
7
39
64
49
14
1
15
45
0
41
43
2
13
71
3
47
9
436
47
49
4
0
13
45
0
42
43
6
7
43
64
49
8
1
47
49
9
1
15
8
450
45
0
44
43
6
7
43
64
49
8
1
49
3
1
49
11
0
49
12
0
7
43
64
49
14
1
11
I
9
I
0
I
0
I
0
I
-2
p
45
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
7
env_for
x
10
initialize
n
x
3
url
x
6
should
s
19
http://example.org/
x
5
equal
n
n
x
4
Hash
x
16
new_from_literal
s
11
SCRIPT_NAME
s
4
/foo
x
3
[]=
n
s
23
http://example.org/foo/
n
n
n
s
22
http://example.org/foo
n
n
s
4
?foo
n
s
23
http://example.org/?foo
n
n
s
24
http://example.org:8080/
n
n
n
s
20
https://example.org/
n
n
n
s
32
https://example.com:8080/foo?foo
n
p
43
I
0
I
18e
I
36
I
18f
I
39
I
18e
I
3d
I
190
I
97
I
191
I
9a
I
190
I
9e
I
192
I
d4
I
193
I
d7
I
192
I
db
I
194
I
111
I
195
I
114
I
194
I
118
I
196
I
14e
I
197
I
151
I
196
I
155
I
198
I
18b
I
199
I
18e
I
198
I
192
I
19b
I
1c8
I
19c
I
1cb
I
19b
I
1cf
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
s
21
restore the full path
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
463
45
0
1
43
2
13
71
3
47
9
34
47
49
4
0
13
45
0
5
43
6
7
7
64
49
8
1
47
49
9
1
15
8
48
45
0
10
43
6
7
7
64
49
8
1
49
3
1
49
11
0
49
12
0
7
13
64
49
14
1
15
45
0
15
43
2
13
71
3
47
9
113
47
49
4
0
13
45
0
16
43
6
7
7
64
44
43
17
79
49
18
1
13
7
19
64
7
20
64
49
21
2
15
49
8
2
47
49
9
1
15
8
145
45
0
22
43
6
7
7
64
44
43
17
79
49
18
1
13
7
19
64
7
20
64
49
21
2
15
49
8
2
49
3
1
49
11
0
49
12
0
7
23
64
49
14
1
15
45
0
24
43
2
13
71
3
47
9
192
47
49
4
0
13
45
0
25
43
6
7
20
64
49
8
1
47
49
9
1
15
8
206
45
0
26
43
6
7
20
64
49
8
1
49
3
1
49
11
0
49
12
0
7
20
64
49
14
1
15
45
0
27
43
2
13
71
3
47
9
253
47
49
4
0
13
45
0
28
43
6
7
29
64
49
8
1
47
49
9
1
15
8
267
45
0
30
43
6
7
29
64
49
8
1
49
3
1
49
11
0
49
12
0
7
31
64
49
14
1
15
45
0
32
43
2
13
71
3
47
9
314
47
49
4
0
13
45
0
33
43
6
7
34
64
49
8
1
47
49
9
1
15
8
328
45
0
35
43
6
7
34
64
49
8
1
49
3
1
49
11
0
49
12
0
7
13
64
49
14
1
15
45
0
36
43
2
13
71
3
47
9
375
47
49
4
0
13
45
0
37
43
6
7
38
64
49
8
1
47
49
9
1
15
8
389
45
0
39
43
6
7
38
64
49
8
1
49
3
1
49
11
0
49
12
0
7
13
64
49
14
1
15
45
0
40
43
2
13
71
3
47
9
436
47
49
4
0
13
45
0
41
43
6
7
42
64
49
8
1
47
49
9
1
15
8
450
45
0
43
43
6
7
42
64
49
8
1
49
3
1
49
11
0
49
12
0
7
44
64
49
14
1
11
I
9
I
0
I
0
I
0
I
-2
p
45
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
7
env_for
x
10
initialize
n
x
8
fullpath
x
6
should
s
1
/
x
5
equal
n
n
x
4
Hash
x
16
new_from_literal
s
11
SCRIPT_NAME
s
4
/foo
x
3
[]=
n
s
5
/foo/
n
n
n
n
n
s
4
?foo
n
s
5
/?foo
n
n
s
24
http://example.org:8080/
n
n
n
s
20
https://example.org/
n
n
n
s
32
https://example.com:8080/foo?foo
n
s
8
/foo?foo
p
43
I
0
I
1a0
I
36
I
1a1
I
39
I
1a0
I
3d
I
1a2
I
97
I
1a3
I
9a
I
1a2
I
9e
I
1a4
I
d4
I
1a5
I
d7
I
1a4
I
db
I
1a6
I
111
I
1a7
I
114
I
1a6
I
118
I
1a8
I
14e
I
1a9
I
151
I
1a8
I
155
I
1aa
I
18b
I
1ab
I
18e
I
1aa
I
192
I
1ad
I
1c8
I
1ae
I
1cb
I
1ad
I
1cf
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
s
37
handle multiple media type parameters
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
228
45
0
1
43
2
13
71
3
47
9
52
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
47
49
14
1
15
8
84
45
0
15
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
7
11
64
49
12
2
15
49
13
2
49
3
1
19
0
15
20
0
49
16
0
49
17
0
49
18
0
49
19
0
15
20
0
49
20
0
49
16
0
7
21
64
49
22
1
15
20
0
49
20
0
7
21
64
49
23
1
49
16
0
7
24
64
49
25
1
15
20
0
49
20
0
49
16
0
7
26
64
49
22
1
15
20
0
49
20
0
7
26
64
49
23
1
49
16
0
7
27
64
49
25
1
15
20
0
49
20
0
49
16
0
49
17
0
7
28
64
49
22
1
15
20
0
49
20
0
49
16
0
7
29
64
49
22
1
15
20
0
49
20
0
7
29
64
49
23
1
49
16
0
7
30
64
49
25
1
11
I
a
I
1
I
0
I
0
I
-2
p
31
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
47
text/plain; foo=BAR,baz=bizzle dizzle;BLING=bam
x
3
[]=
x
7
env_for
x
10
initialize
n
x
6
should
x
3
not
x
2
be
x
9
form_data
x
17
media_type_params
s
3
foo
x
7
include
x
2
[]
s
3
BAR
x
5
equal
s
3
baz
s
13
bizzle dizzle
s
5
BLING
s
5
bling
s
3
bam
p
31
I
0
I
1b2
I
10
I
1b3
I
18
I
1b4
I
2a
I
1b3
I
3c
I
1b4
I
4e
I
1b3
I
54
I
1b2
I
57
I
1b5
I
66
I
1b6
I
75
I
1b7
I
8a
I
1b8
I
99
I
1b9
I
ae
I
1ba
I
c0
I
1bb
I
cf
I
1bc
I
e4
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
3
req
s
30
parse with junk before boundry
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
363
7
0
64
19
0
15
45
1
2
43
3
13
71
4
47
9
81
47
49
5
0
13
45
1
6
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
47
49
18
1
15
8
136
45
1
19
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
49
4
1
19
1
15
20
1
49
20
0
49
21
0
7
22
64
49
23
1
15
20
1
49
20
0
49
21
0
7
24
64
49
23
1
15
20
1
49
21
0
49
25
0
49
26
0
15
20
1
49
27
0
49
21
0
20
0
49
15
0
49
28
1
15
20
1
49
29
0
49
21
0
7
30
64
49
28
1
15
20
1
49
31
0
49
21
0
7
32
64
49
23
1
15
20
1
49
31
0
7
32
64
49
33
1
49
21
0
7
34
64
49
28
1
15
20
1
49
20
0
7
24
64
49
33
1
49
21
0
7
35
64
49
28
1
15
20
1
49
20
0
7
22
64
49
33
1
19
2
15
20
2
49
21
0
49
25
0
45
9
36
49
37
1
15
20
2
7
38
49
33
1
49
21
0
7
39
64
49
28
1
15
20
2
7
40
49
33
1
49
21
0
7
41
64
49
28
1
15
20
2
49
21
0
7
42
49
23
1
15
20
2
7
42
49
33
1
49
15
0
49
21
0
4
76
49
28
1
11
I
c
I
3
I
0
I
0
I
-2
p
43
s
309
blah blah

--AaB03x
content-disposition: form-data; name="reply"

yes
--AaB03x
content-disposition: form-data; name="fileupload"; filename="dj.jpg"
Content-Type: image/jpeg
Content-Transfer-Encoding: base64

/9j/4AAQSkZJRgABAQAAAQABAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcg
--AaB03x--

x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
36
multipart/form-data, boundary=AaB03x
x
3
[]=
s
14
CONTENT_LENGTH
x
4
size
x
5
input
x
7
env_for
x
10
initialize
n
x
4
POST
x
6
should
s
10
fileupload
x
7
include
s
5
reply
x
2
be
x
9
form_data
x
14
content_length
x
5
equal
x
10
media_type
s
19
multipart/form-data
x
17
media_type_params
s
8
boundary
x
2
[]
s
6
AaB03x
s
3
yes
n
x
7
kind_of
x
4
type
s
10
image/jpeg
x
8
filename
s
6
dj.jpg
x
8
tempfile
p
53
I
0
I
1c1
I
6
I
1d0
I
1e
I
1d3
I
27
I
1d1
I
32
I
1d2
I
3f
I
1d3
I
47
I
1d0
I
59
I
1d3
I
62
I
1d1
I
6d
I
1d2
I
7a
I
1d3
I
82
I
1d0
I
8b
I
1d5
I
9a
I
1d6
I
a9
I
1d8
I
b5
I
1d9
I
c6
I
1da
I
d5
I
1db
I
e4
I
1dc
I
f9
I
1de
I
10e
I
1e0
I
11c
I
1e1
I
12b
I
1e2
I
13c
I
1e3
I
14d
I
1e4
I
158
I
1e5
I
16b
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
5
input
x
3
req
x
1
f
s
47
not infinite loop with a malformed HTTP request
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
156
7
0
64
19
0
15
45
1
2
43
3
13
71
4
47
9
81
47
49
5
0
13
45
1
6
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
47
49
18
1
15
8
136
45
1
19
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
49
4
1
19
1
15
5
56
20
47
50
21
0
49
22
0
45
23
24
49
25
1
11
I
b
I
2
I
0
I
0
I
-2
p
26
s
285
--AaB03x
content-disposition: form-data; name="reply"

yes
--AaB03x
content-disposition: form-data; name="fileupload"; filename="dj.jpg"
Content-Type: image/jpeg
Content-Transfer-Encoding: base64

/9j/4AAQSkZJRgABAQAAAQABAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcg
--AaB03x--

x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
36
multipart/form-data, boundary=AaB03x
x
3
[]=
s
14
CONTENT_LENGTH
x
4
size
x
5
input
x
7
env_for
x
10
initialize
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
1
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
1fc
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
6
lambda
x
6
should
x
8
EOFError
n
x
5
raise
p
27
I
0
I
1ea
I
6
I
1f7
I
1e
I
1fa
I
27
I
1f8
I
32
I
1f9
I
3f
I
1fa
I
47
I
1f7
I
59
I
1fa
I
62
I
1f8
I
6d
I
1f9
I
7a
I
1fa
I
82
I
1f7
I
8b
I
1fc
I
9c
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
5
input
x
3
req
s
25
parse multipart form data
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
363
7
0
64
19
0
15
45
1
2
43
3
13
71
4
47
9
81
47
49
5
0
13
45
1
6
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
47
49
18
1
15
8
136
45
1
19
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
49
4
1
19
1
15
20
1
49
20
0
49
21
0
7
22
64
49
23
1
15
20
1
49
20
0
49
21
0
7
24
64
49
23
1
15
20
1
49
21
0
49
25
0
49
26
0
15
20
1
49
27
0
49
21
0
20
0
49
15
0
49
28
1
15
20
1
49
29
0
49
21
0
7
30
64
49
28
1
15
20
1
49
31
0
49
21
0
7
32
64
49
23
1
15
20
1
49
31
0
7
32
64
49
33
1
49
21
0
7
34
64
49
28
1
15
20
1
49
20
0
7
24
64
49
33
1
49
21
0
7
35
64
49
28
1
15
20
1
49
20
0
7
22
64
49
33
1
19
2
15
20
2
49
21
0
49
25
0
45
9
36
49
37
1
15
20
2
7
38
49
33
1
49
21
0
7
39
64
49
28
1
15
20
2
7
40
49
33
1
49
21
0
7
41
64
49
28
1
15
20
2
49
21
0
7
42
49
23
1
15
20
2
7
42
49
33
1
49
15
0
49
21
0
4
76
49
28
1
11
I
c
I
3
I
0
I
0
I
-2
p
43
s
296
--AaB03x
content-disposition: form-data; name="reply"

yes
--AaB03x
content-disposition: form-data; name="fileupload"; filename="dj.jpg"
Content-Type: image/jpeg
Content-Transfer-Encoding: base64

/9j/4AAQSkZJRgABAQAAAQABAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcg
--AaB03x--

x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
36
multipart/form-data, boundary=AaB03x
x
3
[]=
s
14
CONTENT_LENGTH
x
4
size
x
5
input
x
7
env_for
x
10
initialize
n
x
4
POST
x
6
should
s
10
fileupload
x
7
include
s
5
reply
x
2
be
x
9
form_data
x
14
content_length
x
5
equal
x
10
media_type
s
19
multipart/form-data
x
17
media_type_params
s
8
boundary
x
2
[]
s
6
AaB03x
s
3
yes
n
x
7
kind_of
x
4
type
s
10
image/jpeg
x
8
filename
s
6
dj.jpg
x
8
tempfile
p
53
I
0
I
202
I
6
I
20f
I
1e
I
212
I
27
I
210
I
32
I
211
I
3f
I
212
I
47
I
20f
I
59
I
212
I
62
I
210
I
6d
I
211
I
7a
I
212
I
82
I
20f
I
8b
I
214
I
9a
I
215
I
a9
I
217
I
b5
I
218
I
c6
I
219
I
d5
I
21a
I
e4
I
21b
I
f9
I
21d
I
10e
I
21f
I
11c
I
220
I
12b
I
221
I
13c
I
222
I
14d
I
223
I
158
I
224
I
16b
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
5
input
x
3
req
x
1
f
s
29
parse big multipart form data
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
238
7
0
7
1
64
7
2
49
3
1
47
101
4
7
5
63
3
19
0
15
45
6
7
43
8
13
71
9
47
9
95
47
49
10
0
13
45
6
11
43
12
7
13
64
44
43
14
4
3
49
15
1
13
7
16
64
7
17
64
49
18
2
15
13
7
19
64
20
0
49
20
0
49
18
2
15
13
7
21
20
0
49
18
2
15
49
22
2
47
49
23
1
15
8
150
45
6
24
43
12
7
13
64
44
43
14
4
3
49
15
1
13
7
16
64
7
17
64
49
18
2
15
13
7
19
64
20
0
49
20
0
49
18
2
15
13
7
21
20
0
49
18
2
15
49
22
2
49
9
1
19
1
15
20
1
49
25
0
7
26
64
49
27
1
7
28
49
27
1
49
20
0
49
29
0
7
2
49
30
1
15
20
1
49
25
0
7
31
64
49
27
1
7
28
49
27
1
49
20
0
49
29
0
4
10
49
30
1
15
20
1
49
25
0
7
31
64
49
27
1
7
28
49
27
1
49
32
0
49
29
0
7
33
64
49
30
1
11
I
b
I
2
I
0
I
0
I
-2
p
34
s
74
--AaB03x
content-disposition: form-data; name="huge"; filename="huge"


s
1
x
I
8000
x
1
*
x
4
to_s
s
100

--AaB03x
content-disposition: form-data; name="mean"; filename="mean"

--AaB03xha
--AaB03x--

x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
36
multipart/form-data, boundary=AaB03x
x
3
[]=
s
14
CONTENT_LENGTH
x
4
size
x
5
input
x
7
env_for
x
10
initialize
n
x
4
POST
s
4
huge
x
2
[]
x
8
tempfile
x
6
should
x
5
equal
s
4
mean
x
4
read
s
10
--AaB03xha
p
33
I
0
I
22c
I
11
I
228
I
14
I
233
I
2c
I
236
I
35
I
234
I
40
I
235
I
4d
I
236
I
55
I
233
I
67
I
236
I
70
I
234
I
7b
I
235
I
88
I
236
I
90
I
233
I
99
I
238
I
b5
I
239
I
d1
I
23a
I
ee
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
5
input
x
3
req
s
34
detect invalid multipart form data
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
468
7
0
64
19
0
15
45
1
2
43
3
13
71
4
47
9
81
47
49
5
0
13
45
1
6
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
47
49
18
1
15
8
136
45
1
19
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
49
4
1
19
1
15
5
56
20
47
50
21
0
49
22
0
45
23
24
49
25
1
15
7
26
64
19
0
15
45
1
27
43
3
13
71
4
47
9
237
47
49
5
0
13
45
1
28
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
47
49
18
1
15
8
292
45
1
29
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
49
4
1
19
1
15
5
56
30
47
50
21
0
49
22
0
45
23
31
49
25
1
15
7
26
64
19
0
15
45
1
32
43
3
13
71
4
47
9
393
47
49
5
0
13
45
1
33
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
47
49
18
1
15
8
448
45
1
34
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
49
4
1
19
1
15
5
56
35
47
50
21
0
49
22
0
45
23
36
49
25
1
11
I
b
I
2
I
0
I
0
I
-2
p
37
s
72
--AaB03x
content-disposition: form-data; name="huge"; filename="huge"

x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
36
multipart/form-data, boundary=AaB03x
x
3
[]=
s
14
CONTENT_LENGTH
x
4
size
x
5
input
x
7
env_for
x
10
initialize
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
1
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
247
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
6
lambda
x
6
should
x
8
EOFError
n
x
5
raise
s
79
--AaB03x
content-disposition: form-data; name="huge"; filename="huge"

foo

n
n
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
1
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
254
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
n
n
n
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
1
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
261
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
n
p
79
I
0
I
23e
I
6
I
242
I
1e
I
245
I
27
I
243
I
32
I
244
I
3f
I
245
I
47
I
242
I
59
I
245
I
62
I
243
I
6d
I
244
I
7a
I
245
I
82
I
242
I
8b
I
247
I
9c
I
249
I
a2
I
24f
I
ba
I
252
I
c3
I
250
I
ce
I
251
I
db
I
252
I
e3
I
24f
I
f5
I
252
I
fe
I
250
I
109
I
251
I
116
I
252
I
11e
I
24f
I
127
I
254
I
138
I
256
I
13e
I
25c
I
156
I
25f
I
15f
I
25d
I
16a
I
25e
I
177
I
25f
I
17f
I
25c
I
191
I
25f
I
19a
I
25d
I
1a5
I
25e
I
1b2
I
25f
I
1ba
I
25c
I
1c3
I
261
I
1d4
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
5
input
x
3
req
s
52
correctly parse the part name from Content-Id header
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
159
7
0
64
19
0
15
45
1
2
43
3
13
71
4
47
9
81
47
49
5
0
13
45
1
6
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
47
49
18
1
15
8
136
45
1
19
43
7
7
8
64
44
43
9
4
3
49
10
1
13
7
11
64
7
12
64
49
13
2
15
13
7
14
64
20
0
49
15
0
49
13
2
15
13
7
16
20
0
49
13
2
15
49
17
2
49
4
1
19
1
15
20
1
49
20
0
49
21
0
49
22
0
7
23
64
35
1
49
24
1
11
I
b
I
2
I
0
I
0
I
-2
p
25
s
127
--AaB03x
Content-Type: text/xml; charset=utf-8
Content-Id: <soap-start>
Content-Transfer-Encoding: 7bit

foo
--AaB03x--

x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
34
multipart/related, boundary=AaB03x
x
3
[]=
s
14
CONTENT_LENGTH
x
4
size
x
5
input
x
7
env_for
x
10
initialize
n
x
6
params
x
4
keys
x
6
should
s
12
<soap-start>
x
5
equal
p
27
I
0
I
265
I
6
I
26e
I
1e
I
271
I
27
I
26f
I
32
I
270
I
3f
I
271
I
47
I
26e
I
59
I
271
I
62
I
26f
I
6d
I
270
I
7a
I
271
I
82
I
26e
I
8b
I
273
I
9f
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
2
x
5
input
x
3
req
s
35
not try to interpret binary as utf8
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
502
7
0
13
70
9
18
15
44
43
1
7
2
78
49
3
2
6
0
7
4
49
5
1
9
293
29
266
1
26
93
0
15
99
43
6
7
7
49
8
1
19
0
15
99
43
6
7
7
7
9
64
49
10
2
15
7
11
4
54
4
207
4
10
4
248
35
4
7
12
64
49
13
1
47
101
14
7
15
63
3
19
1
15
45
16
17
43
18
13
71
3
47
9
158
47
49
19
0
13
45
16
20
43
21
7
22
64
44
43
23
4
3
49
24
1
13
7
25
64
7
26
64
49
10
2
15
13
7
27
64
20
1
49
28
0
49
10
2
15
13
7
29
20
1
49
10
2
15
49
30
2
47
49
31
1
15
8
213
45
16
32
43
21
7
22
64
44
43
23
4
3
49
24
1
13
7
25
64
7
26
64
49
10
2
15
13
7
27
64
20
1
49
28
0
49
10
2
15
13
7
29
20
1
49
10
2
15
49
30
2
49
3
1
19
2
15
5
56
33
47
50
34
0
49
35
0
49
36
0
45
37
38
49
39
1
15
20
2
49
40
0
7
41
64
49
8
1
7
42
49
8
1
49
28
0
49
35
0
4
4
49
43
1
30
8
280
26
99
43
6
7
7
20
0
49
10
2
15
27
34
99
43
6
7
7
20
0
49
10
2
15
8
501
7
11
4
54
4
207
4
10
4
248
35
4
7
12
64
49
13
1
47
101
14
7
15
63
3
19
1
15
45
16
44
43
18
13
71
3
47
9
396
47
49
19
0
13
45
16
45
43
21
7
22
64
44
43
23
4
3
49
24
1
13
7
25
64
7
26
64
49
10
2
15
13
7
27
64
20
1
49
28
0
49
10
2
15
13
7
29
20
1
49
10
2
15
49
30
2
47
49
31
1
15
8
451
45
16
46
43
21
7
22
64
44
43
23
4
3
49
24
1
13
7
25
64
7
26
64
49
10
2
15
13
7
27
64
20
1
49
28
0
49
10
2
15
13
7
29
20
1
49
10
2
15
49
30
2
49
3
1
19
2
15
5
56
47
47
50
34
0
49
35
0
49
36
0
45
37
48
49
39
1
15
20
2
49
40
0
7
41
64
49
8
1
7
42
49
8
1
49
28
0
49
35
0
4
4
49
43
1
11
I
d
I
3
I
0
I
0
I
-2
p
49
n
x
6
Regexp
s
6
regexp
x
3
new
x
5
kcode
x
11
respond_to?
x
7
Globals
x
6
$KCODE
x
2
[]
s
4
UTF8
x
3
[]=
s
122
--AaB03x
content-disposition: form-data; name="fileupload"; filename="junk.a"
content-type: application/octet-stream


s
2
c*
x
4
pack
x
4
to_s
s
14

--AaB03x--

x
4
Rack
n
x
7
Request
x
8
allocate
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
36
multipart/form-data, boundary=AaB03x
s
14
CONTENT_LENGTH
x
4
size
x
5
input
x
7
env_for
x
10
initialize
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
2
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
28a
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
6
lambda
x
6
should
x
3
not
x
8
EOFError
n
x
5
raise
x
4
POST
s
10
fileupload
x
8
tempfile
x
5
equal
n
n
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
2
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
29e
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
n
p
73
I
0
I
277
I
19
I
279
I
2b
I
27a
I
37
I
281
I
50
I
27c
I
53
I
285
I
6b
I
288
I
74
I
286
I
7f
I
287
I
8c
I
288
I
94
I
285
I
a6
I
288
I
af
I
286
I
ba
I
287
I
c7
I
288
I
cf
I
285
I
d8
I
28a
I
ec
I
28b
I
10b
I
28d
I
118
I
28d
I
125
I
295
I
13e
I
290
I
141
I
299
I
159
I
29c
I
162
I
29a
I
16d
I
29b
I
17a
I
29c
I
182
I
299
I
194
I
29c
I
19d
I
29a
I
1a8
I
29b
I
1b5
I
29c
I
1bd
I
299
I
1c6
I
29e
I
1da
I
29f
I
1f5
I
0
I
1f6
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
14
original_kcode
x
5
input
x
3
req
s
41
work around buggy 1.8.* Tempfile equality
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
223
7
0
64
19
0
15
45
1
2
13
71
3
47
9
30
47
49
4
0
13
7
5
64
47
49
6
1
15
8
36
7
5
64
49
3
1
19
1
15
20
1
20
0
49
7
1
15
20
1
49
8
0
15
45
9
10
43
11
13
71
3
47
9
128
47
49
4
0
13
45
9
12
43
13
7
14
64
44
43
15
4
3
49
16
1
13
7
17
64
7
18
64
49
19
2
15
13
7
20
64
20
0
49
21
0
49
19
2
15
13
7
22
20
1
49
19
2
15
49
23
2
47
49
6
1
15
8
183
45
9
24
43
13
7
14
64
44
43
15
4
3
49
16
1
13
7
17
64
7
18
64
49
19
2
15
13
7
20
64
20
0
49
21
0
49
19
2
15
13
7
22
20
1
49
19
2
15
49
23
2
49
3
1
19
2
15
5
56
25
47
50
26
0
49
27
0
49
28
0
49
29
0
15
5
56
30
47
50
26
0
49
27
0
49
28
0
7
31
64
49
29
1
11
I
c
I
3
I
0
I
0
I
-2
p
32
s
90
--AaB03x
content-disposition: form-data; name="huge"; filename="huge"

foo
--AaB03x--

x
8
Tempfile
n
x
3
new
x
8
allocate
s
8
rackspec
x
10
initialize
x
5
write
x
6
rewind
x
4
Rack
n
x
7
Request
n
x
11
MockRequest
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
36
multipart/form-data, boundary=AaB03x
x
3
[]=
s
14
CONTENT_LENGTH
x
4
size
x
5
input
x
7
env_for
n
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
2
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
2b5
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
6
lambda
x
6
should
x
3
not
x
5
raise
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
7
21
1
2
49
0
0
11
I
2
I
0
I
0
I
0
I
-2
p
1
x
4
POST
p
3
I
0
I
2b6
I
7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
s
19
input re-processed!
p
35
I
0
I
2a4
I
6
I
2ac
I
27
I
2ad
I
2f
I
2ae
I
35
I
2b0
I
4d
I
2b3
I
56
I
2b1
I
61
I
2b2
I
6e
I
2b3
I
76
I
2b0
I
88
I
2b3
I
91
I
2b1
I
9c
I
2b2
I
a9
I
2b3
I
b1
I
2b0
I
ba
I
2b5
I
cb
I
2b6
I
df
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
5
input
x
10
rack_input
x
3
req
s
24
conform to the Rack spec
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
215
5
56
0
47
50
1
0
19
0
15
7
2
64
19
1
15
20
1
7
3
49
4
1
9
35
20
1
7
5
64
49
3
1
8
36
1
15
45
6
7
43
8
13
71
9
47
9
90
47
49
10
0
13
45
6
11
43
12
13
71
9
47
9
78
47
49
10
0
13
20
0
47
49
13
1
15
8
83
20
0
49
9
1
47
49
13
1
15
8
123
45
6
14
43
12
13
71
9
47
9
115
47
49
10
0
13
20
0
47
49
13
1
15
8
120
20
0
49
9
1
49
9
1
7
15
64
44
43
16
4
3
49
17
1
13
7
18
64
7
19
64
49
20
2
15
13
7
21
64
20
1
49
22
0
49
23
0
49
20
2
15
13
7
24
64
45
25
26
13
71
9
47
9
188
47
49
10
0
13
20
1
47
49
13
1
15
8
193
20
1
49
9
1
49
20
2
15
49
27
2
19
2
15
20
2
49
28
0
49
29
0
49
30
0
11
I
c
I
3
I
0
I
0
I
-2
p
31
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
113
57
19
0
15
45
0
1
43
2
13
71
3
47
9
29
47
49
4
0
13
20
0
47
49
5
1
15
8
34
20
0
49
3
1
49
6
0
7
7
64
49
8
1
49
9
0
19
1
15
20
1
7
10
49
11
1
9
65
20
1
49
10
0
8
70
20
1
49
12
0
19
2
15
4
200
44
43
13
80
49
14
1
13
7
15
64
7
16
64
49
17
2
15
13
7
18
64
20
2
49
19
0
49
17
2
15
20
1
35
1
35
3
11
I
9
I
3
I
1
I
1
n
p
20
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
x
10
initialize
x
4
POST
s
4
file
x
2
[]
x
7
inspect
x
8
bytesize
x
11
respond_to?
x
4
size
x
4
Hash
x
16
new_from_literal
s
12
Content-Type
s
9
text/html
x
3
[]=
s
14
Content-Length
x
4
to_s
p
11
I
0
I
2ba
I
4
I
2bb
I
31
I
2bc
I
46
I
2bc
I
49
I
2bd
I
71
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
3
env
x
7
content
x
4
size
x
6
lambda
s
296
--AaB03x
content-disposition: form-data; name="reply"

yes
--AaB03x
content-disposition: form-data; name="fileupload"; filename="dj.jpg"
Content-Type: image/jpeg
Content-Transfer-Encoding: base64

/9j/4AAQSkZJRgABAQAAAQABAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcg
--AaB03x--

x
14
force_encoding
x
11
respond_to?
s
10
ASCII-8BIT
x
4
Rack
n
x
11
MockRequest
x
3
new
x
8
allocate
n
x
4
Lint
x
10
initialize
n
s
1
/
x
4
Hash
x
16
new_from_literal
s
12
CONTENT_TYPE
s
36
multipart/form-data, boundary=AaB03x
x
3
[]=
s
14
CONTENT_LENGTH
x
4
size
x
4
to_s
s
10
rack.input
x
8
StringIO
n
x
3
get
x
6
should
x
2
be
x
2
ok
p
21
I
0
I
2ba
I
a
I
2c0
I
10
I
2cd
I
24
I
0
I
25
I
2ce
I
7e
I
2d0
I
87
I
2cf
I
92
I
2d0
I
c5
I
2ce
I
cb
I
2d2
I
d7
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
3
app
x
5
input
x
3
res
s
31
parse Accept-Encoding correctly
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
182
5
56
0
47
50
1
0
19
0
15
20
0
1
49
2
1
49
3
0
35
0
49
4
1
15
20
0
7
5
64
49
2
1
49
3
0
7
6
64
7
7
35
2
7
8
64
7
9
35
2
35
2
49
4
1
15
20
0
7
10
64
49
2
1
49
3
0
35
0
49
4
1
15
20
0
7
11
64
49
2
1
49
3
0
7
11
64
7
12
35
2
35
1
49
4
1
15
20
0
7
13
64
49
2
1
49
3
0
7
6
64
7
14
35
2
7
8
64
7
15
35
2
35
2
49
4
1
15
20
0
7
16
64
49
2
1
49
3
0
7
8
64
7
17
35
2
7
18
64
7
19
35
2
7
11
64
78
35
2
35
3
49
4
1
15
5
56
20
47
50
1
0
49
3
0
45
21
22
49
23
1
11
I
7
I
1
I
0
I
0
I
-2
p
24
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
90
57
19
0
15
45
0
1
43
2
13
71
3
47
9
55
47
49
4
0
13
45
0
5
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
20
0
49
11
2
15
49
12
2
47
49
13
1
15
8
86
45
0
14
43
6
7
7
64
44
43
8
79
49
9
1
13
7
10
64
20
0
49
11
2
15
49
12
2
49
3
1
49
15
0
11
I
a
I
1
I
1
I
1
n
p
16
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
n
x
11
MockRequest
s
0

x
4
Hash
x
16
new_from_literal
s
20
HTTP_ACCEPT_ENCODING
x
3
[]=
x
7
env_for
x
10
initialize
n
x
15
accept_encoding
p
5
I
0
I
2d6
I
4
I
2d7
I
5a
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
1
x
x
6
lambda
x
4
call
x
6
should
x
5
equal
s
14
compress, gzip
s
8
compress
d
 +0.500000000000000000000000000000000000000000000000000000     1
s
4
gzip
d
 +0.500000000000000000000000000000000000000000000000000000     1
s
0

s
1
*
d
 +0.500000000000000000000000000000000000000000000000000000     1
s
26
compress;q=0.5, gzip;q=1.0
d
 +0.500000000000000000000000000000000000000000000000000000     0
d
 +0.500000000000000000000000000000000000000000000000000000     1
s
34
gzip;q=1.0, identity; q=0.5, *;q=0
d
 +0.500000000000000000000000000000000000000000000000000000     1
s
8
identity
d
 +0.500000000000000000000000000000000000000000000000000000     0
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
10
21
1
0
7
0
64
49
1
1
11
I
3
I
0
I
0
I
0
I
-2
p
2
s
12
gzip ; q=1.0
x
4
call
p
3
I
0
I
2e2
I
a
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
12
RuntimeError
n
x
5
raise
p
17
I
0
I
2d6
I
a
I
2da
I
19
I
2dc
I
38
I
2dd
I
49
I
2de
I
61
I
2df
I
80
I
2e0
I
a5
I
2e2
I
b6
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
1
x
6
parser
s
22
provide ip information
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
308
5
56
0
47
50
1
0
19
0
15
45
2
3
43
4
13
71
5
47
9
63
47
49
6
0
13
45
2
7
43
8
13
71
5
47
9
51
47
49
6
0
13
20
0
47
49
9
1
15
8
56
20
0
49
5
1
47
49
9
1
15
8
96
45
2
10
43
8
13
71
5
47
9
88
47
49
6
0
13
20
0
47
49
9
1
15
8
93
20
0
49
5
1
49
5
1
19
1
15
20
1
7
11
64
44
43
12
79
49
13
1
13
7
14
64
7
15
64
49
16
2
15
49
17
2
19
2
15
20
2
49
18
0
49
19
0
7
15
64
49
20
1
15
20
1
7
11
64
44
43
12
80
49
13
1
13
7
14
64
7
15
64
49
16
2
15
13
7
21
64
7
22
64
49
16
2
15
49
17
2
19
2
15
20
2
49
18
0
49
19
0
7
22
64
49
20
1
15
20
1
7
11
64
44
43
12
80
49
13
1
13
7
14
64
7
15
64
49
16
2
15
13
7
21
64
7
23
64
49
16
2
15
49
17
2
19
2
15
20
2
49
18
0
49
19
0
7
22
64
49
20
1
15
20
1
7
11
64
44
43
12
80
49
13
1
13
7
14
64
7
15
64
49
16
2
15
13
7
21
64
7
24
64
49
16
2
15
49
17
2
19
2
15
20
2
49
18
0
49
19
0
7
22
64
49
20
1
11
I
a
I
3
I
0
I
0
I
-2
p
25
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
83
57
19
0
15
45
0
1
43
2
13
71
3
47
9
29
47
49
4
0
13
20
0
47
49
5
1
15
8
34
20
0
49
3
1
19
1
15
45
0
6
43
7
13
71
3
47
9
60
47
49
4
0
13
47
49
5
0
15
8
63
49
3
0
19
2
15
20
2
20
1
49
8
0
49
9
1
15
20
2
49
10
0
11
I
7
I
3
I
1
I
1
n
p
11
x
4
Rack
n
x
7
Request
x
3
new
x
8
allocate
x
10
initialize
n
x
8
Response
x
2
ip
x
5
write
x
6
finish
p
11
I
0
I
2e6
I
4
I
2e7
I
25
I
2e8
I
42
I
2e9
I
4d
I
2ea
I
53
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
3
env
x
7
request
x
8
response
x
6
lambda
x
4
Rack
n
x
11
MockRequest
x
3
new
x
8
allocate
n
x
4
Lint
x
10
initialize
n
s
1
/
x
4
Hash
x
16
new_from_literal
s
11
REMOTE_ADDR
s
15
123.123.123.123
x
3
[]=
x
3
get
x
4
body
x
6
should
x
5
equal
s
20
HTTP_X_FORWARDED_FOR
s
15
234.234.234.234
s
31
234.234.234.234,212.212.212.212
s
39
unknown,234.234.234.234,212.212.212.212
p
45
I
0
I
2e6
I
a
I
2ed
I
63
I
2ee
I
80
I
2ef
I
8f
I
2f1
I
94
I
2f3
I
9c
I
2f2
I
a7
I
2f3
I
b1
I
2f1
I
b7
I
2f5
I
c6
I
2f7
I
cb
I
2f9
I
d3
I
2f8
I
de
I
2f9
I
e8
I
2f7
I
ee
I
2fb
I
fd
I
2fd
I
102
I
2ff
I
10a
I
2fe
I
115
I
2ff
I
11f
I
2fd
I
125
I
301
I
134
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
3
app
x
4
mock
x
3
res
x
9
MyRequest
x
4
Rack
n
x
7
Request
x
10
open_class
x
14
__class_init__
M
1
n
n
x
9
MyRequest
i
16
5
66
99
7
0
7
1
65
67
49
2
0
49
3
4
11
I
5
I
0
I
0
I
0
n
p
4
x
6
params
M
1
n
n
x
6
params
i
18
44
43
0
79
49
1
1
13
7
2
7
3
64
49
4
2
15
11
I
4
I
0
I
0
I
0
n
p
5
x
4
Hash
x
16
new_from_literal
x
3
foo
s
3
bar
x
3
[]=
p
5
I
-1
I
305
I
0
I
306
I
12
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
17
method_visibility
x
15
add_defn_method
p
3
I
2
I
305
I
10
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
13
attach_method
s
62
allow subclass request to be instantiated after parent request
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
197
45
0
1
43
2
7
3
64
49
4
1
19
0
15
45
0
5
43
6
13
71
7
47
9
39
47
49
8
0
13
20
0
47
49
9
1
15
8
44
20
0
49
7
1
19
1
15
20
1
49
10
0
49
11
0
44
43
12
79
49
13
1
13
7
14
64
7
15
64
49
16
2
15
49
17
1
15
20
1
49
18
0
49
11
0
44
43
12
79
49
13
1
13
7
14
64
7
15
64
49
16
2
15
49
17
1
15
45
19
20
13
71
7
47
9
130
47
49
8
0
13
20
0
47
49
9
1
15
8
135
20
0
49
7
1
19
2
15
20
2
49
10
0
49
11
0
44
43
12
79
49
13
1
13
7
14
64
7
15
64
49
16
2
15
49
17
1
15
20
2
49
18
0
49
11
0
44
43
12
79
49
13
1
13
7
21
7
15
64
49
16
2
15
49
17
1
11
I
9
I
3
I
0
I
0
I
-2
p
22
x
4
Rack
n
x
11
MockRequest
s
9
/?foo=bar
x
7
env_for
n
x
7
Request
x
3
new
x
8
allocate
x
10
initialize
x
3
GET
x
6
should
x
4
Hash
x
16
new_from_literal
s
3
foo
s
3
bar
x
3
[]=
x
5
equal
x
6
params
x
9
MyRequest
n
x
3
foo
p
15
I
0
I
30b
I
e
I
30d
I
2f
I
30e
I
4d
I
30f
I
6b
I
311
I
8a
I
312
I
a8
I
313
I
c5
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
3
env
x
4
req1
x
4
req2
s
62
allow parent request to be instantiated after subclass request
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
197
45
0
1
43
2
7
3
64
49
4
1
19
0
15
45
5
6
13
71
7
47
9
37
47
49
8
0
13
20
0
47
49
9
1
15
8
42
20
0
49
7
1
19
1
15
20
1
49
10
0
49
11
0
44
43
12
79
49
13
1
13
7
14
64
7
15
64
49
16
2
15
49
17
1
15
20
1
49
18
0
49
11
0
44
43
12
79
49
13
1
13
7
19
7
15
64
49
16
2
15
49
17
1
15
45
0
20
43
21
13
71
7
47
9
129
47
49
8
0
13
20
0
47
49
9
1
15
8
134
20
0
49
7
1
19
2
15
20
2
49
10
0
49
11
0
44
43
12
79
49
13
1
13
7
14
64
7
15
64
49
16
2
15
49
17
1
15
20
2
49
18
0
49
11
0
44
43
12
79
49
13
1
13
7
14
64
7
15
64
49
16
2
15
49
17
1
11
I
9
I
3
I
0
I
0
I
-2
p
22
x
4
Rack
n
x
11
MockRequest
s
9
/?foo=bar
x
7
env_for
x
9
MyRequest
n
x
3
new
x
8
allocate
x
10
initialize
x
3
GET
x
6
should
x
4
Hash
x
16
new_from_literal
s
3
foo
s
3
bar
x
3
[]=
x
5
equal
x
6
params
x
3
foo
n
x
7
Request
p
15
I
0
I
317
I
e
I
319
I
2d
I
31a
I
4b
I
31b
I
68
I
31d
I
89
I
31e
I
a7
I
31f
I
c5
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
3
env
x
4
req1
x
4
req2
x
5
Range
x
3
new
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
56
57
19
0
15
20
0
49
0
0
19
1
15
45
1
2
20
1
49
3
1
19
2
15
5
7
4
20
0
47
101
5
7
6
20
2
47
101
5
7
6
20
1
47
101
5
7
7
63
7
56
8
47
50
9
1
11
I
c
I
3
I
1
I
1
n
p
10
x
3
chr
x
3
CGI
n
x
6
escape
s
11
not strip '
x
4
to_s
s
6
' => '
s
59
' escaped character from parameters when accessed as string
M
1
p
2
x
9
for_block
t
n
x
9
__block__
i
153
7
0
21
1
2
47
101
1
7
2
21
1
2
47
101
1
63
4
19
0
15
45
3
4
43
5
20
0
49
6
1
19
1
15
45
3
7
43
8
13
71
9
47
9
59
47
49
10
0
13
20
1
47
49
11
1
15
8
64
20
1
49
9
1
19
2
15
20
2
49
12
0
49
13
0
44
43
14
79
49
15
1
13
7
16
64
21
1
1
47
101
1
7
2
21
1
1
47
101
1
63
3
49
17
2
15
49
18
1
15
20
2
49
19
0
49
13
0
44
43
14
79
49
15
1
13
7
16
64
21
1
1
47
101
1
7
2
21
1
1
47
101
1
63
3
49
17
2
15
49
18
1
11
I
b
I
3
I
0
I
0
I
-2
p
20
s
6
/?foo=
x
4
to_s
s
3
bar
x
4
Rack
n
x
11
MockRequest
x
7
env_for
n
x
7
Request
x
3
new
x
8
allocate
x
10
initialize
x
3
GET
x
6
should
x
4
Hash
x
16
new_from_literal
s
3
foo
x
3
[]=
x
5
equal
x
6
params
p
11
I
0
I
326
I
15
I
327
I
22
I
328
I
43
I
329
I
6e
I
32a
I
99
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
3
url
x
3
env
x
4
req2
x
6
should
p
9
I
0
I
322
I
4
I
323
I
c
I
324
I
17
I
325
I
38
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
3
x
1
a
x
1
b
x
1
c
x
7
collect
p
97
I
0
I
7
I
b
I
20
I
16
I
38
I
21
I
62
I
2c
I
78
I
37
I
80
I
42
I
8e
I
4d
I
93
I
58
I
a0
I
63
I
ac
I
6e
I
ba
I
79
I
c4
I
84
I
ce
I
8f
I
d5
I
9a
I
dc
I
a5
I
ee
I
b0
I
f6
I
bb
I
100
I
c6
I
10a
I
d1
I
110
I
dc
I
116
I
e7
I
11c
I
f2
I
12e
I
fd
I
137
I
108
I
159
I
113
I
162
I
11e
I
168
I
129
I
174
I
134
I
181
I
13f
I
186
I
14a
I
18d
I
155
I
19f
I
160
I
1b1
I
16b
I
1bf
I
176
I
1e8
I
181
I
200
I
18c
I
227
I
197
I
23d
I
1a2
I
264
I
1ad
I
276
I
1b8
I
2a3
I
1c3
I
2b9
I
1ce
I
2d5
I
1d9
I
2e5
I
1e4
I
304
I
203
I
30a
I
20e
I
316
I
219
I
322
I
22a
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
x
8
describe
p
11
I
0
I
1
I
9
I
2
I
12
I
3
I
1b
I
4
I
24
I
6
I
33
x
98
/Users/riccardotacconi/dev/sinatra/simple/tmp/isolate/rbx-1.8/gems/rack-1.3.0/test/spec_request.rb
p
0
